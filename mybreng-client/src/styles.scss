@use "sass:map";
@use "@angular/material" as mat;

mat.$theme-ignore-duplication-warnings: true;

html,
body {
    height: 100%;
}

body {
    margin: 0;
    font-family: Roboto, "Helvetica Neue", sans-serif;
}

@include mat.core();

$app-blue-palette: (
    50 : #eaf0fb,
    100 : #cadbf5,
    200 : #a7c3ef,
    300 : #83aae9,
    400 : #6998e4,
    500 : #4e86df,
    600 : #477edb,
    700 : #3d73d7,
    800 : #3569d2,
    900 : #2556ca,
    A100 : #ffffff,
    A200 : #d3dfff,
    A400 : #a0baff,
    A700 : #86a7ff,
    contrast: (
        50 : #000000,
        100 : #000000,
        200 : #000000,
        300 : #000000,
        400 : #000000,
        500 : #ffffff,
        600 : #ffffff,
        700 : #ffffff,
        800 : #ffffff,
        900 : #ffffff,
        A100 : #000000,
        A200 : #000000,
        A400 : #000000,
        A700 : #000000,
    )
);

$app-orange-palette: (
    50 : #f8f0e4,
    100 : #ecdabb,
    200 : #e0c18e,
    300 : #d4a861,
    400 : #ca953f,
    500 : #c1821d,
    600 : #bb7a1a,
    700 : #b36f15,
    800 : #ab6511,
    900 : #9e520a,
    A100 : #ffe2cb,
    A200 : #ffc598,
    A400 : #ffa965,
    A700 : #ff9b4c,
    contrast: (
        50 : #000000,
        100 : #000000,
        200 : #000000,
        300 : #000000,
        400 : #ffffff,
        500 : #ffffff,
        600 : #ffffff,
        700 : #ffffff,
        800 : #ffffff,
        900 : #ffffff,
        A100 : #000000,
        A200 : #000000,
        A400 : #000000,
        A700 : #000000,
    )
);

$app-primary: mat.define-palette($app-blue-palette);
$app-accent: mat.define-palette($app-orange-palette);
$app-warn: mat.define-palette(mat.$red-palette);

$app-light-theme: mat.define-light-theme(
    (
        color: (
            primary: $app-primary,
            accent: $app-accent,
            warn: $app-warn,
        ),
        typography: mat.define-typography-config(),
        density: 0,
    )
);

$app-dark-theme: mat.define-dark-theme(
    (
        color: (
            primary: $app-primary,
            accent: $app-accent,
            warn: $app-warn,
        ),
        typography: mat.define-typography-config(),
        density: 0,
    )
);

@mixin global-theme($theme) {
    $color-config: mat.get-color-config($theme);
    $accent-palette: map.get($color-config, 'accent');
    $warn-palette: map.get($color-config, 'warn');
    $background-palette: map.get($color-config, 'background');
    $foreground-palette: map.get($color-config, 'foreground');

    body {
        background-color: mat.get-color-from-palette($background-palette, background);
        color: mat.get-color-from-palette($foreground-palette, text);
    }

    a {
        color: mat.get-color-from-palette($accent-palette, A200);
    }

    .text-muted {
        color: mat.get-color-from-palette($foreground-palette, disabled-text);
    }

    .mdc-snackbar {
        &.info {
            .mdc-snackbar__surface {
                background-color: mat.get-color-from-palette($accent-palette, default);
            }
            
            .mat-mdc-snack-bar-label {
                color: mat.get-color-from-palette($accent-palette, default-contrast);
            }

            .mat-simple-snackbar-action {
                color: mat.get-color-from-palette($accent-palette, default-contrast);
            }
        }

        &.error {
            .mdc-snackbar__surface {
                background-color: mat.get-color-from-palette($warn-palette, default);
            }
            
            .mat-mdc-snack-bar-label {
                color: mat.get-color-from-palette($warn-palette, default-contrast);
            }

            .mat-simple-snackbar-action {
                color: mat.get-color-from-palette($warn-palette, default-contrast);
            }
        }
    }

    .cdk-overlay-backdrop.solid {
        background-color: mat.get-color-from-palette($background-palette, background);
    }
}

@include mat.all-component-densities($app-light-theme);

@mixin dark-colors {
    @include global-theme($app-dark-theme);
}

@mixin light-colors {
    @include global-theme($app-light-theme);
}

@media (prefers-color-scheme: dark) {
    @include mat.all-component-themes($app-dark-theme);
    html {
        @include dark-colors;
    }
}

@media (prefers-color-scheme: light) {
    @include mat.all-component-themes($app-light-theme);
    html {
        @include light-colors;
    }
}

html {
    &.dark {
        @include mat.all-component-colors($app-dark-theme);
        @include dark-colors;
    }

    &.light {
        @include mat.all-component-colors($app-light-theme);
        @include light-colors;
    }
}

.app-container {
    width: 1024px;
    margin: 0 auto;
}
